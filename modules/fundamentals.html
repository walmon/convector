<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Fundamentals | Convector Framework</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
	<link rel="stylesheet" href="../assets/css/main.css">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
	integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
	crossorigin="anonymous">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell"> <a href="../index.html" class="title uppercase">
						<img src="../assets/images/convector.svg" class="convector-logo">
					</a>
				</div>
				<div class="table-cell" id="">
					<div>
						<ul class="social-menu">
							<li>
								<a href="https://discord.gg/twRwpWt" target="_blank">
									<i class="fab fa-discord"></i>
								</a>
							</li>
							<li>
								<a href="https://www.youtube.com/watch?v=snad2K9vu2g&list=PL-1Vd1bTiSr_i2qeqeHCUWaD74ymRvidb" target="_blank">
									<i class="fab fa-youtube"></i>
								</a>
							</li>
							<li>
								<a href="https://twitter.com/convectororg" target="_blank">
									<i class="fab fa-twitter"></i>
								</a>
							</li>
						</ul>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-2 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul class="custom-nav">
					<li>
						<a href="../index.html">
						<i class="fas fa-home"></i>Home</a>
					</li>
					<li>
						<a href="fundamentals.html">Fundamentals</a>
						<ul>
							<li>
								<a href="packages.html">Packages</a>
							</li>
							<li>
								<a href="models.html">Models</a>
							</li>
							<li>
								<a href="controllers.html">Controllers</a>
							</li>
							<li>
								<a href="chaincode_manager.html">Tool: Chaincode Manager</a>
							</li>
							<li>
								<a href="development_environment.html">Tool: Development Environment</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="getting_started.html">Getting Started</a>
						<ul>
							<li>
								<a href="https://medium.com/worldsibu/how-to-create-a-backend-in-nodejs-for-hyperledger-fabric-6c1293fe3e37"
								target="_blank">
								<i class="fas fa-external-link-alt"></i>Fullstack usage - Node JS integration</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="tips.html">Tips and tricks</a>
					</li>
					<li>
						<a href="linux_users.html">For Linux Users</a>
					</li>
					<li>
						<a href="hyperledger_fabric.html">Small overview of Hyperledger Fabric</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/hurley" target="_blank">
							<i class="fas fa-tools"></i>
						Hurley</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector-cli" target="_blank">
							<i class="fas fa-terminal"></i>
						Convector CLI</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector" target="_blank">
							<i class="fab fa-github"></i>
						Source code</a>
					</li>
					<li>
						<a href="https://medium.com/worldsibu/for-devs/home" target="_blank">
						<i class="fab fa-medium-m"></i>Medium Blog</a>
					</li>
					<li>
						<a href="https://discord.gg/twRwpWt" target="_blank"><i class="fab fa-discord"></i> Discord chat</a>
					</li>
					<li>
						<div class="powered-by">
							<div>Created and sponsored by
								<a href="https://worldsibu.tech">
									<img src="../assets/images/worldsibu.svg" width=150>
							</a></div>
							<div>
								Licensed under the
								<a href="https://raw.githubusercontent.com/worldsibu/convector/develop/LICENSE.txt" target="_blank">Apache 2.0
								license</a>.
							</div>
						</div>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
		<div class="col-10 col-content">
			<div class="tsd-page-title">
				<div class="container-fluid">
					<ul class="tsd-breadcrumb">
						<li>
							<a href="../index.html"> Convector Suite</a>
						</li>
					</ul>
					<h1>Fundamentals</h1>
				</div>
			</div>
			<div>
				<section class="tsd-panel tsd-comment">
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<!-- # Guides

- <a href="fundamentals.html">Fundamentals</a>
- <a href="getting_started.html">Getting-Started</a> -->
							<h1 id="architecture-overview">Architecture overview</h1>
							<p><strong>Model/Controller pattern.</strong> Convector is designed to help you write reusable pieces of code that describe the nature of what a developer can do in a blockchain. A blockchain, in the developerâ€™s eyes, is no more than a data layer protected by a logic layer defining the rules of what the outside world can do in with the inner data. Thus, a really comfortable way of writing chaincode logic (smart contracts) is by having Models describing the shape of the data and Controllers describing the actions and rules that apply to the models.</p>
							<p>Convector has been built taking in consideration the best out of the modern architectural design landscape. Its modular approach aims to accompany you through the whole development cycle, whether through its <strong>Core Components</strong> or the already existing <strong>Convector Tools</strong>.</p>
							<p>You usually focus the most on the Specification, a.k.a models and controllers, to make sure they do what the network expects them to do. A blockchain (for the developer&#39;s eyes) is no more than a data layer protected by a logic layer defining the rules of what the outside world can do in with the inner data. Thus, a really comfortable way of writing chaincode logic (<em>smart contracts</em>) is by having <strong>Models</strong> describing the shape of the data and <strong>Controllers</strong> describing the actions and rules that apply to the models.</p>
							<ul>
								<li><em>Models</em> are real world objects or concepts (like a token, a cryptocurrency, a contract, a car, a container, a user...) with specific characteristics (like a name, a owner, a deadline...) that you structure for your project.</li>
								<li><em>Controllers</em> are real world actions acting over objects (models). E.g.: build a car, transferring ownership, reporting an accident. It&#39;s the business logic of your sysem.</li>
							</ul>
							<p>You can then include that project at any layer of your application, from the blockchain to the front end. You only need to specify the corresponding adapter and storage containing the functions implementations and storage target of that layer. For example, to test, you may include a mock storage to see if your blockchain logic works before deploying it.</p>
							<p>By using the built-in storages and adapters, most of the basics are covered. For example, saving to the blockchain validating the wallet (certificate) submitting the transaction, or calling the blockchain peers.</p>
							<h2 id="convector-core">Convector Core</h2>
							<p>All the <code>@worldsibu/convector-core-*</code> packages. It provides all the necessary code to write contract specifications using the <em>Model/Controller</em> pattern.</p>
							<h3 id="convector-storage">Convector Storage</h3>
							<p>Convector is designed thinking in a modular design from its conception. A model not only can be used at the chaincode layer, since most of the time you&#39;ll have to use the same model in your services or front-end application, the models can be used anywhere. The difference of its behavior is the <strong>storage</strong> layer it uses. At chaincode the storage is the <em>Fabric Shim</em> to save and read data in the blockchain. But if you whish to run a model in a NodeJS backend, the storage layer can be swapped by the CouchDB storage layer, which will allow you to read data, but not write. In a browser environment you can even create your own storage layer mapping to your back-end api.</p>
							<blockquote>
								<p>An <em>Storage</em> is the basic data layer of your entity (Model) which defines where the object will be stored (added, updated, removed).</p>
							</blockquote>
							<h3 id="convector-adapters">Convector Adapters</h3>
							<p>Following the modular design pattern from models, controllers have <strong>adapters</strong>, they are the handlers to route the requests to the appropriate layer. In a blockchain it will be the Fabric API, but on NodeJS it might be the <em>Fabric Client SDK</em>, on unit tests it might be a mock class, and on browser it can map to your APIs.</p>
							<blockquote>
								<p>You may think of <em>Adapters</em> as the specific logic. It varies based on the layer you are using the code.</p>
							</blockquote>
							<h2 id="convector-tools">Convector Tools</h2>
							<p>All the <code>@worldsibu/convector-tool-*</code> packages. They provide a set of helpers and utils to make the chaincode development easier.</p>
							<h3 id="chaincode-manager">Chaincode Manager</h3>
							<p>Used to bundle controllers in a single chaincode and handle the installation and invokation.</p>
							<h3 id="dev-environment">Dev Environment</h3>
							<p>It&#39;s a basic dev environment created with Fabric running on docker or vagrant. Contains two organization and three users in that organization, two channels, one orderer, one peer per org with its database, and all the cryptographic material for this to work.</p>
							<h2 id="a-high-level-view">A high level view</h2>
							<p>A typical distribution and usage of the components goes as follow (asumming you have a <a href="https://danluu.com/monorepo/">mono-repo</a>, if not, then distribute according to the <strong>&quot;Why-column&quot;</strong> which explains what that package installation will give you):</p>
							<table>
								<thead>
									<tr>
										<th>Project/Layer</th>
										<th>Why</th>
										<th>Command</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>Root of your project</td>
										<td>To have a dev env and the utility that will let you install, upgrade, invoke and so on, the chaincodes.</td>
										<td><code>npm install -D @worldsibu/convector-tool-{dev-env,chaincode-manager}</code></td>
									</tr>
									<tr>
										<td>Root chaincode project. E.g.: chaincodes/</td>
										<td>So that you can share settings between your multiple chaincodes, such as development environment, tests and testing scripts, blockchain installation setup (what to install, where), etc.</td>
										<td><code>npm install -D @worldsibu/convector-{adapter-mock,tool-{dev-env,chaincode-manager}} chai mocha @types/chai @types/mocha ts-node</code></td>
									</tr>
									<tr>
										<td>At for each of your chaincode projects. E.g.: chaincodes/cc-token</td>
										<td>Each chaincode can be a separate project so that you don&#39;t have to carry everything when including in another layer of your stack.</td>
										<td><code>npm install -SE @worldsibu/convector-core-{model,controller} &amp;&amp; npm i -S yup reflect-metadata &amp;&amp; npm i -D @types/yup</code></td>
									</tr>
									<tr>
										<td>At your backend / api</td>
										<td>It typically calls the nodes (peers) of your blockchain, but it may call the World State or other services as well.</td>
										<td>Include each of your chaincode projects, they will carry the basic dependencies <code>npm install -SE @worldsibu/convector-{adapter-fabric,storage-couchdb} @types/bytebuffer</code></td>
									</tr>
									<tr>
										<td>At the front end</td>
										<td>Here you may be calling your backend/api server, it is great to have the interfaces and structures coming right from the chaincodes layer so that you don&#39;t have to copy everything.</td>
										<td>Include each of your chaincode projects, they will carry the basic dependencies.</td>
									</tr>
								</tbody>
							</table>
							<hr>
							<h2 id="what-s-next">What&#39;s next</h2>
							<ul>
								<li><a href="packages.html">Packages</a></li>
								<li><a href="models.html">Models</a></li>
								<li><a href="controllers.html">Controllers</a></li>
								<li><a href="chaincode_manager.html">Chaincode-Manager</a></li>
								<li><a href="development_environment.html">Development-Environment</a></li>
							</ul>
							<hr>
							<h2 id="relevant-references">Relevant references</h2>
							<ul>
								<li><a href="getting_started.html">Getting-Started</a></li>
								<li><a href="https://medium.com/worldsibu/for-devs/home">Dev resources in our blog</a></li>
								<li><a href="https://github.com/worldsibu/convector-example-drug-supply-chain">A fullstack TypeScript project showcasing Convector</a></li>
								<li><a href="https://github.com/worldsibu/convector-boilerplate">A bootstrap project for you</a></li>
							</ul>
							<hr>
							<p><a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a> has been recently released! Get familiar with the new way to create Enterprise Smart Contract Systems.</p>
							<p><a href="https://github.com/worldsibu/convector/issues"><img src="https://img.shields.io/github/issues-raw/@worldsibu/convector.svg" alt="Issues"></a>
								<a href="https://worldsibu.io/subscribe/"><img src="https://img.shields.io/badge/Newsletter--orange.svg" alt="Newsletter"></a>
							<a href="https://discord.gg/twRwpWt"><img src="https://img.shields.io/discord/469152206638284800.svg" alt="Discord"></a></p>
							<p><a href="https://www.npmjs.com/package/@worldsibu/convector-core-chaincode"><img src="https://img.shields.io/npm/v/@worldsibu/convector-core-chaincode.svg" alt="npm"></a>
							<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></p>
							<p><a class="github-button" href="https://github.com/worldsibu/convector" data-icon="octicon-star" data-size="large" aria-label="Star worldsibu/convector on GitHub">Star</a> <a class="github-button" href="https://github.com/worldsibu" data-size="large" aria-label="Follow @worldsibu on GitHub">Follow</a></p>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</div>
<footer  class="with-border-bottom" >
	<div class="container tsd-generator">
		<div class="double-content">
			<div>
				<a href="https://worldsibu.tech">
					<img src="../assets/images/worldsibu.svg" width=200>
				</a>
			</div>
			<div>
				<!-- Begin Mailchimp Signup Form -->
				<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
				<style type="text/css">
          .middle {
            color: #fff !important;

          }

          .footer #mc_embed_signup {
            background: transparent;
            clear: left;
            font: 16px Helvetica, Arial, sans-serif;
            width: 100%;
          }

          /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style>
				<style type="text/css">
          .middle #mc-embedded-subscribe {
            background: #F40257;
            text-transform: uppercase;
            padding: 0px 24px !important;
            height: auto;
            border-radius: 50px !important;
            font-size: 14px !important;
          }

          .middle #mc-embedded-subscribe:hover {
            background: #F40257 !important;
          }

          .middle #mc-embedded-subscribe-form input[type=checkbox] {
            display: inline;
            width: auto;
            margin-right: 10px;
            text-align: left !important;
          }

          .middle #mergeRow-gdpr {
            margin-top: 20px;
            text-align: left !important;
          }

          .middle #mergeRow-gdpr fieldset label {
            font-weight: normal;
            text-align: left !important;
          }

          .middle #mc-embedded-subscribe-form .mc_fieldset {
            border: none;
            min-height: 0px;
            padding-bottom: 0px;
            border-radius: 50px;
            text-align: left !important;
            font-size: 20px !important;
          }

          .middle #mc_embed_signup_scroll {}

          .middle #mce-EMAIL {
            width: 300px !important;
            font-size: 14px !important;
          }
        </style>
				<div class="middle">
					<div id="mc_embed_signup">
						<form action="https://worldsibu.us19.list-manage.com/subscribe/post?u=4a9f0fa5a8269abdb50f5881a&amp;id=3aec9b46df"
						method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
						novalidate>
						<div id="mc_embed_signup_scroll">
							<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Your email"
							required>
							<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
							<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_4a9f0fa5a8269abdb50f5881a_3aec9b46df"
							tabindex="-1" value=""></div>
							<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
							class="button"></div>
						</div>
						</form>
					</div>
				</div>
				<!--End mc_embed_signup-->
			</div>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-128943824-2', '');
        ga('send', 'pageview');
    </script>
</body>
</html>