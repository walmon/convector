<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Getting-Started | Convector Framework</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
	<link rel="stylesheet" href="../assets/css/main.css">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
	integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
	crossorigin="anonymous">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell"> <a href="../index.html" class="title uppercase">
						<img src="../assets/images/convector.svg" class="convector-logo">
					</a>
				</div>
				<div class="table-cell" id="">
					<div>
						<ul class="social-menu">
							<li>
								<a href="https://discord.gg/twRwpWt" target="_blank">
									<i class="fab fa-discord"></i>
								</a>
							</li>
							<li>
								<a href="https://www.youtube.com/watch?v=snad2K9vu2g&list=PL-1Vd1bTiSr_i2qeqeHCUWaD74ymRvidb" target="_blank">
									<i class="fab fa-youtube"></i>
								</a>
							</li>
							<li>
								<a href="https://twitter.com/convectororg" target="_blank">
									<i class="fab fa-twitter"></i>
								</a>
							</li>
						</ul>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-2 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul class="custom-nav">
					<li>
						<a href="../index.html">
						<i class="fas fa-home"></i>Home</a>
					</li>
					<li>
						<a href="fundamentals.html">Fundamentals</a>
						<ul>
							<li>
								<a href="packages.html">Packages</a>
							</li>
							<li>
								<a href="models.html">Models</a>
							</li>
							<li>
								<a href="controllers.html">Controllers</a>
							</li>
							<li>
								<a href="chaincode_manager.html">Tool: Chaincode Manager</a>
							</li>
							<li>
								<a href="development_environment.html">Tool: Development Environment</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="getting_started.html">Getting Started</a>
						<ul>
							<li>
								<a href="https://medium.com/worldsibu/how-to-create-a-backend-in-nodejs-for-hyperledger-fabric-6c1293fe3e37"
								target="_blank">
								<i class="fas fa-external-link-alt"></i>Fullstack usage - Node JS integration</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="tips.html">Tips and tricks</a>
					</li>
					<li>
						<a href="linux_users.html">For Linux Users</a>
					</li>
					<li>
						<a href="hyperledger_fabric.html">Small overview of Hyperledger Fabric</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/hurley" target="_blank">
							<i class="fas fa-tools"></i>
						Hurley</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector-cli" target="_blank">
							<i class="fas fa-terminal"></i>
						Convector CLI</a>
					</li>
					<li>
						<a href="https://github.com/worldsibu/convector" target="_blank">
							<i class="fab fa-github"></i>
						Source code</a>
					</li>
					<li>
						<a href="https://medium.com/worldsibu/for-devs/home" target="_blank">
						<i class="fab fa-medium-m"></i>Medium Blog</a>
					</li>
					<li>
						<a href="https://discord.gg/twRwpWt" target="_blank"><i class="fab fa-discord"></i> Discord chat</a>
					</li>
					<li>
						<div class="powered-by">
							<div>Created and sponsored by
								<a href="https://worldsibu.tech">
									<img src="../assets/images/worldsibu.svg" width=150>
							</a></div>
							<div>
								Licensed under the
								<a href="https://raw.githubusercontent.com/worldsibu/convector/develop/LICENSE.txt" target="_blank">Apache 2.0
								license</a>.
							</div>
						</div>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
		<div class="col-10 col-content">
			<div class="tsd-page-title">
				<div class="container-fluid">
					<ul class="tsd-breadcrumb">
						<li>
							<a href="../index.html"> Convector Suite</a>
						</li>
					</ul>
					<h1>Getting-Started</h1>
				</div>
			</div>
			<div>
				<section class="tsd-panel tsd-comment">
					<div class="tsd-comment tsd-typography">
						<div class="lead">
							<!-- # Guides

- <a href="fundamentals.html">Fundamentals</a>
- <a href="getting_started.html">Getting-Started</a> -->
							<h1 id="getting-started-with-convector">Getting Started with Convector</h1>
							<h2 id="prerequisites">Prerequisites</h2>
							<ul>
								<li><a href="https://nodejs.org/en/download/">Node</a> 8.11.0 (other versions might work, but this is the one we use for development)</li>
								<li><a href="https://www.docker.com/community-edition">Docker</a></li>
							</ul>
							<h2 id="using-convector-cli">Using Convector CLI</h2>
							<p>Since <a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a> was released, we recommend using it to provision your Chaincode projects. It makes it easier, faster, and less prone to errors.</p>
							<p>To start a new chaincode project follow these steps.</p>
							<pre><code class="lang-bash">npm i -g @worldsibu/convector-cli

<span class="hljs-comment"># Create a new project with a default chaincode package</span>
conv new PROJECT-NAME -c CHAINCODE-NAME

<span class="hljs-built_in">cd</span> PROJECT-NAME

npm i

<span class="hljs-comment"># Bring up a development blockchain in your computer</span>
npm run env:restart

<span class="hljs-comment"># Install the chaincode to the blockchain</span>
npm run cc:start -- CHAINCODE-NAME 1

<span class="hljs-comment"># Apply all the changes you want to the project.</span>
<span class="hljs-comment"># When you need to upgrade your chaincode in the blockchain, you can simply do</span>
npm run cc:upgrade -- CHAINCODE-NAME 2

</code></pre>
							<h2 id="doing-things-manually">Doing things manually</h2>
							<p><a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a> has been recently released to the public. It makes it even easier to onboard Convector, but if you still want to things manually, you can follow this instructive.</p>
							<h3 id="in-your-nodejs-project">In your NodeJS project</h3>
							<ul>
								<li><a href="https://www.npmjs.com/package/yup">yup</a></li>
								<li><a href="https://www.npmjs.com/package/reflect-metadata">reflect-metadata</a></li>
							</ul>
							<p>Internally we use <a href="https://github.com/lerna/lerna">Lerna</a> for our projects, and we advice you to do the same, since you&#39;ll be working with different npm modules in the same project, although this is totally optional.</p>
							<p>We also recommend the use of <a href="https://github.com/zkat/npx">npx</a> to avoid global dependencies. So this will be your only global dependency. Try <code>npm i -g npx</code>.</p>
							<h2 id="structure">Structure</h2>
							<p>Create a folder and <code>cd</code> into it. Run <code>npx lerna init</code>. Lerna will create the following structure.</p>
							<pre><code><span class="hljs-string">./packages/</span>
<span class="hljs-string">./lerna.json</span>
<span class="hljs-string">./package.json</span>
</code></pre><p>Inside that <code>packages</code> folder, create your a folder with your chaincode&#39;s name. </p>
							<pre><code class="lang-bash">./packages/&lt;chaincode-name&gt;
</code></pre>
							<p>There you will put all of your chaincode&#39;s code. Start a new npm project inside that folder <code>npm init</code>. Fill the blanks.</p>
							<p>Add some basic dependencies so you can get started:</p>
							<pre><code class="lang-bash">npm install -SE @worldsibu/convector-core-{model,controller} &amp;&amp; npm i -SE reflect-metadata yup
</code></pre>
							<h2 id="folder-structure">Folder Structure</h2>
							<p>Inside your chaincode folder you can create the folder structure of your preferences. We suggest the following.</p>
							<pre><code><span class="hljs-string">./src</span>
<span class="hljs-string">./tests</span>
<span class="hljs-string">./package.json</span>
<span class="hljs-string">./README.md</span>
</code></pre><p>Just <code>mkdir src &amp;&amp; mkdir tests</code>.</p>
							<h2 id="code-your-smart-contracts">Code your smart contracts</h2>
							<p>Create the <a href="controllers.html">Controllers</a> and <a href="models.html">Models</a> necessary for your application, checkout each guide to learn how to do so and more details.</p>
							<p>Some basic structure can look like.</p>
							<p><code>./packages/&lt;chaincode-name&gt;/src/test.controller.ts</code></p>
							<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> {
  Controller,
  ConvectorController,
  Invokable,
  Param
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@worldsibu/convector-core-controller'</span>;

<span class="hljs-keyword">import</span> { Test } <span class="hljs-keyword">from</span> <span class="hljs-string">'./test.model'</span>;

<span class="hljs-meta">@Controller</span>(<span class="hljs-string">'test'</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> TestController <span class="hljs-keyword">extends</span> ConvectorController {
  <span class="hljs-meta">@Invokable</span>()
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> create(
    <span class="hljs-meta">@Param</span>(Test)
    test: Test
  ) {
    <span class="hljs-keyword">await</span> test.save();
  }
}
</code></pre>
							<p><code>./packages/&lt;chaincode-name&gt;/src/test.model.ts</code></p>
							<pre><code class="lang-typescript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> yup <span class="hljs-keyword">from</span> <span class="hljs-string">'yup'</span>;
<span class="hljs-keyword">import</span> {
  ConvectorModel,
  Default,
  ReadOnly,
  Required,
  Validate
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@worldsibu/convector-core-model'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Test <span class="hljs-keyword">extends</span> ConvectorModel&lt;Test&gt; {
  <span class="hljs-meta">@ReadOnly</span>()
  <span class="hljs-meta">@Required</span>()
  <span class="hljs-keyword">public</span> readonly <span class="hljs-keyword">type</span> = <span class="hljs-string">'io.worldsibu.test'</span>;

  <span class="hljs-meta">@Required</span>()
  <span class="hljs-meta">@Validate</span>(yup.string())
  <span class="hljs-keyword">public</span> name: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@ReadOnly</span>()
  <span class="hljs-meta">@Required</span>()
  <span class="hljs-meta">@Validate</span>(yup.number())
  <span class="hljs-keyword">public</span> created: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@Required</span>()
  <span class="hljs-meta">@Validate</span>(yup.number())
  <span class="hljs-keyword">public</span> modified: <span class="hljs-built_in">number</span>;
}
</code></pre>
							<p>Bootstrap this structure with <code>touch ./packages/&lt;chaincode-name&gt;/src/&lt;chaincode-name&gt;.model.ts &amp;&amp; touch ./packages/&lt;chaincode-name&gt;/src/&lt;chaincode-name&gt;.controller.ts</code>.</p>
							<h2 id="unit-tests">Unit Tests</h2>
							<p>We strongly suggest you create a unit tests for your controllers, since it&#39;s the easiest way to test their logic. Refer to the guides to learn more about unit testing.</p>
							<p>During development you <em>don&#39;t</em> really need a blockchain. The logic you put in your chaincodes is no more than simple programming logic, so you can mock things up (we help with this) and define unit tests that execute in a virtual environment instead of an actual blockchain.</p>
							<h2 id="take-your-code-to-the-blockchain">Take your code to the blockchain</h2>
							<p>When you&#39;re ready to test on a real chaincode, you can add our Convector Tools. <code>dev-env</code> will create a <em>development</em> blockchain in your computer. <strong>Make sure to do it at the root project folder, not inside <code>./packages/&lt;chaincode-name&gt;</code></strong>.</p>
							<pre><code class="lang-bash">npm install -D @worldsibu/convector-{adapter-mock,tool-{dev-env,chaincode-manager}} fabric-client@1.1.2 fabric-ca-client@1.1.2
</code></pre>
							<p>This Convector Tool setups a development environment for you to easily run the chaincodes. All the following scripts can be invoked from the path <code>./node_modules/@worldsibu/convector-tool-dev-env/scripts/*</code>:</p>
							<p>To make it easier for you, add in your <strong>root</strong> <code>package.json</code> the following scripts. <strong>Make sure to do it at the root project folder, NOT inside <code>./packages/&lt;chaincode-name&gt;/package.json</code></strong>.</p>
							<pre><code class="lang-json">{
  <span class="hljs-attr">"scripts"</span>:{
    <span class="hljs-attr">"env:restart"</span>: <span class="hljs-string">"./node_modules/@worldsibu/convector-tool-dev-env/scripts/restart.sh"</span>,
    <span class="hljs-attr">"env:clean"</span>: <span class="hljs-string">"./node_modules/@worldsibu/convector-tool-dev-env/scripts/clean.sh"</span>
  }
}
</code></pre>
							<p>Now you can manage your development blockchain straight from simple commands. Try running <code>npm run env:restart</code> to kickstart a blockchain in your comnputer.</p>
							<p>Let&#39;s break this commands down.</p>
							<table>
								<thead>
									<tr>
										<th>Command</th>
										<th>What it does</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td><code>env:clean</code></td>
										<td>Cleans everything up</td>
									</tr>
									<tr>
										<td><code>env:restart</code></td>
										<td>Install a whole blockchain from scratch, it will create a folder in the root <code>.convector-dev-env</code> with all of the crypto materials you will need, as well it will start a set of containers you can explore by doing <code>docker ps</code>.</td>
									</tr>
								</tbody>
							</table>
							<p>The basic setup is explained in <a href="development_environment.html">Development-Environment</a>.</p>
							<p>After having your blockchain setup you will need to do some tasks with your chaincode, like installing it.</p>
							<h3 id="chaincode-manipulation">Chaincode manipulation</h3>
							<p>By using the chaincode manager you can install and upgrade chaincodes in the blockchain. Refer to the <a href="chaincode_manager.html">Chaincode-Manager</a> guide since you will need to first bootstrap some blockchain profiles to define some details about the topology of your blockchain and your chaincode.</p>
							<hr>
							<h2 id="relevant-references">Relevant references</h2>
							<ul>
								<li><a href="fundamentals.html">Fundamentals</a>.</li>
								<li><a href="https://medium.com/worldsibu/for-devs/home">Dev resources in our blog</a>.</li>
								<li>Take a look at <a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a>.</li>
								<li><a href="https://github.com/worldsibu/convector-example-drug-supply-chain">A fullstack TypeScript project showcasing Convector</a>.</li>
								<li><a href="https://github.com/worldsibu/convector-boilerplate">A bootstrap project for you</a>.</li>
							</ul>
							<hr>
							<p><a href="https://github.com/worldsibu/convector-cli" target="_blank">Convector CLI</a> has been recently released! Get familiar with the new way to create Enterprise Smart Contract Systems.</p>
							<p><a href="https://github.com/worldsibu/convector/issues"><img src="https://img.shields.io/github/issues-raw/@worldsibu/convector.svg" alt="Issues"></a>
								<a href="https://worldsibu.io/subscribe/"><img src="https://img.shields.io/badge/Newsletter--orange.svg" alt="Newsletter"></a>
							<a href="https://discord.gg/twRwpWt"><img src="https://img.shields.io/discord/469152206638284800.svg" alt="Discord"></a></p>
							<p><a href="https://www.npmjs.com/package/@worldsibu/convector-core-chaincode"><img src="https://img.shields.io/npm/v/@worldsibu/convector-core-chaincode.svg" alt="npm"></a>
							<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a></p>
							<p><a class="github-button" href="https://github.com/worldsibu/convector" data-icon="octicon-star" data-size="large" aria-label="Star worldsibu/convector on GitHub">Star</a> <a class="github-button" href="https://github.com/worldsibu" data-size="large" aria-label="Follow @worldsibu on GitHub">Follow</a></p>
							<script async defer src="https://buttons.github.io/buttons.js"></script>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</div>
<footer  class="with-border-bottom" >
	<div class="container tsd-generator">
		<div class="double-content">
			<div>
				<a href="https://worldsibu.tech">
					<img src="../assets/images/worldsibu.svg" width=200>
				</a>
			</div>
			<div>
				<!-- Begin Mailchimp Signup Form -->
				<link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">
				<style type="text/css">
          .middle {
            color: #fff !important;

          }

          .footer #mc_embed_signup {
            background: transparent;
            clear: left;
            font: 16px Helvetica, Arial, sans-serif;
            width: 100%;
          }

          /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style>
				<style type="text/css">
          .middle #mc-embedded-subscribe {
            background: #F40257;
            text-transform: uppercase;
            padding: 0px 24px !important;
            height: auto;
            border-radius: 50px !important;
            font-size: 14px !important;
          }

          .middle #mc-embedded-subscribe:hover {
            background: #F40257 !important;
          }

          .middle #mc-embedded-subscribe-form input[type=checkbox] {
            display: inline;
            width: auto;
            margin-right: 10px;
            text-align: left !important;
          }

          .middle #mergeRow-gdpr {
            margin-top: 20px;
            text-align: left !important;
          }

          .middle #mergeRow-gdpr fieldset label {
            font-weight: normal;
            text-align: left !important;
          }

          .middle #mc-embedded-subscribe-form .mc_fieldset {
            border: none;
            min-height: 0px;
            padding-bottom: 0px;
            border-radius: 50px;
            text-align: left !important;
            font-size: 20px !important;
          }

          .middle #mc_embed_signup_scroll {}

          .middle #mce-EMAIL {
            width: 300px !important;
            font-size: 14px !important;
          }
        </style>
				<div class="middle">
					<div id="mc_embed_signup">
						<form action="https://worldsibu.us19.list-manage.com/subscribe/post?u=4a9f0fa5a8269abdb50f5881a&amp;id=3aec9b46df"
						method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank"
						novalidate>
						<div id="mc_embed_signup_scroll">
							<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Your email"
							required>
							<!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
							<div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_4a9f0fa5a8269abdb50f5881a_3aec9b46df"
							tabindex="-1" value=""></div>
							<div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe"
							class="button"></div>
						</div>
						</form>
					</div>
				</div>
				<!--End mc_embed_signup-->
			</div>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
<script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-128943824-2', '');
        ga('send', 'pageview');
    </script>
</body>
</html>